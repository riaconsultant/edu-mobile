CREATE TABLE users (
    user_id BIGINT AUTO_INCREMENT PRIMARY KEY,
    username VARCHAR(50) NOT NULL UNIQUE,
    password_hash VARCHAR(255) NOT NULL,
    role ENUM(
        'SuperAdmin',
        'Principal',
        'ClassTeacher',
        'SubjectTeacher',
        'Student',
        'Parent',
        'Accountant',
        'Librarian',
        'HRCoordinator',
        'Counselor',
        'TransportCoordinator',
        'ITSupport',
        'Alumni',
        'ExternalAuditor',
        'SchoolBoard'
    ) NOT NULL,
    first_name VARCHAR(50) NOT NULL,
    last_name VARCHAR(50) NOT NULL,
    email VARCHAR(100) NOT NULL UNIQUE,
    phone VARCHAR(15),
    mfa_enabled BOOLEAN DEFAULT FALSE,
    mfa_secret VARCHAR(50),
    last_login DATETIME,
    status ENUM('Active', 'Inactive', 'Suspended') DEFAULT 'Active',
    created_at DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME ON UPDATE CURRENT_TIMESTAMP,
    INDEX idx_username (username),
    INDEX idx_email (email),
    INDEX idx_role (role)
);